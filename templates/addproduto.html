
{% include "header.html" %}

<link href="{{url_for('static', filename = 'css/bootstrap.min.css')}}" rel="stylesheet">

{% block body %}
<div class="container-fluid">

   <div class="container-xxl shadow-sm p-3 mb-5 bg-body rounded">

      <h3 style="text-align:center" class="fw-semibold"> Lista de Produtos <button type="button" class="btn btn-primary  pull-right" data-toggle="modal"            data-target="#myModal">Adicionar Produto </button>
      </h3> 



         <!---- <span class="material-icons md-48 pull-right" data-toggle="modal" data-target="#myModal" cursor="pointer">
               person_add
               </span> ##ICONE ESTILIZADO##-->  


    {%with messages = get_flashed_messages()%}

    {%if messages%}

    {% for message in messages %}

      <div class="alert alert-success alert-dismissable" role="alert">

         <button type="button" class="close" data-dismiss="alert" aria-label ="close">

         <span aria-hidden="true">&times;</span>

      </button>
         {{message}}

      </div>


    {%endfor%}
    {%endif%}
    {%endwith%}




    <table class="table table-bordered table-hover table table-responsive">
      <thead class="thead-dark">
            
         <tr>
           <!-- <th scope="col" class="text-center">#</th> -->
            <th scope="col" class="text-center col-4">Produto</th>
            <th scope="col" class="text-center col-md-2">Valor</th>
            <th scope="col" class="text-center col-md-2">Tipo</th>
            <th scope="col" class="text-center col-md-2">Adicional</th>
           

         </tr>


      </thead>   





                {% for row in produtos %}
               <tr align="center">
                 <!-- <td>{{row.0}}</td>-->
                  <td>{{row.1}}</td>
                  <td>{{row.2}}</td>
                  <td>{{row.3}}</td>
                  <td>{{row.4}}</td>
                 
                    
                    
               

                

 
                  <td><a href="/updateprd/{{row.0}}" class="btn btn-secondary" data-toggle="modal" data-target="#modaledit{{row.0}}" style="margin-top:10px" >
   <i class="bi bi-arrow-clockwise"> </i>Atualizar</a></td>

   <td><a class="btn btn-danger" href="/deleteprd/{{row.0}}" style="margin-top:10px" onclick="return confirm('Tem certeza que deseja deletar esse registro?')">
   <i class="bi bi-trash"> </i>Deletar</a></td>



                </tr>
              
               </thead> 
                <div id="modaledit{{row.0}}" class="modal fade" role="dialog">


   <div class="modal-dialog">


      <div class="modal-content">


         <div class="modal-header">


            <!--<button type="button" class="close" data-dismiss="modal">&times;</button> -->


            <h4 class="modal-title">Atualizar Produto</h4>


         </div>


         <div class="modal-body">


            <form action="{{ url_for('updateprd') }}" method="POST">


               <div class="form-group">


                  <label>Produto:</label>
                   <input type="hidden"  name="id" value="{{row.0}}">

                  <input type="text" class="form-control" name="produto" value="{{row.1}}">


               </div>



               <div class="form-group">


                  <label>Valor:</label>

                  <input type="text" class="form-control" name="valor" value="{{row.2}}">


               </div>


               <div class="form-group">


                  <label>Tipo:</label>

                  <input type="text" class="form-control" name="tipo" value="{{row.3}}">


               </div>

               <div class="form-group">


                  <label>Adicional:</label>

                  <input type="text" class="form-control" name="info" value="{{row.4}}">


               </div>


               <div class="d-grid gap-2 col-6 mx-auto">
                  <button class="btn btn-success" type="submit">Atualizar</button>
               </div>

            </form>


         </div>


         <div class="modal-footer">


            <button type="button" class="btn btn-default" data-dismiss="modal">Fechar</button>


         </div>


      </div>


   </div>


</div>


                {% endfor  %}


                </tbody>


      </table>
         </thead>

        </div>


<!-- Modal -->


<div id="myModal" class="modal fade" role="dialog">


   <div class="modal-dialog">


      <div class="modal-content">


         <div class="modal-header">


            <!--<button type="button" class="close" data-dismiss="modal">&times;</button>-->


            
            <h4 class="modal-title">Adicionar Produto</h4>

         </div>


         <div class="modal-body">


            <form action="{{ url_for('addprd') }}" method="POST">


               <div class="form-group">


                  <label>Produto:</label>
                  <input type="text" class="form-control" name="produto" required="1">


               </div>


                <div class="form-group">


                  <label>Valor:</label>
                  <input type="text" class="form-control" name="valor" required="1">


               </div>


                <div class="form-group">


                  <label>Tipo:</label>
                  <input type="text" class="form-control" name="tipo">


               </div>

               <div class="form-group">


                  <label>Adicional:</label>
                  <input type="text" class="form-control" name="info" >


               </div>

 
               <div class="d-grid gap-2 col-6 mx-auto">
                  <button class="btn btn-success" type="submit">Inserir Dados</button>
               </div>


            </form>


         </div>


         <div class="modal-footer">


            <button type="button" class="btn btn-danger" data-dismiss="modal">Fechar</button>


         </div>


      </div>


   </div>


</div>




  {% include "footer.html" %}
    </div>


</div>


{% endblock %}


<script type="text/javascript" src="{{url_for('static', filename='js/jquery-3.2.1.min.js') }}"></script>

<script type="text/javascript" src="{{url_for('static', filename = 'js/bootstrap.min.js')}}"></script>
